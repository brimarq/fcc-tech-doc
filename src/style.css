@use postcss-mixins;
@use postcss-simple-vars;
@use postcss-nested-ancestors;
@use postcss-nested;

$primary-font-family: BlinkMacSystemFont, -apple-system, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", "Helvetica", "Arial", sans-serif !important;

$navbar-text-color: inherit;
$navbar-text-color-mobile: white;
$navbar-background-color: inherit;
$navbar-background-color-mobile: black;

$navbar-border: 1px solid hsla(0, 0%, 0%, .2);


$nav-list-transition: all .2s ease-out;



$hamburger-height: 17px;
$hamburger-width: calc($hamburger-height * 1.5);
$hamburger-color: $navbar-text-color-mobile;
$hamburger-bar-height: 3px;
$hamburger-bar-border-radius: .1rem;

$hamburger-bar-top-transition: top .1s ease .2s, transform .1s ease;
$hamburger-bar-top-checked-transition: top .1s ease, transform .1s ease .2s;
$hamburger-bar-middle-transition: all .1s ease;
$hamburger-bar-middle-checked-transition: all .1s ease .2s;
$hamburger-bar-bottom-transition: bottom .1s ease .2s, transform .1s ease;
$hamburger-bar-bottom-checked-transition: bottom .1s ease, transform .1s ease .2s;

$breakpoint: screen and (min-width: 500px);

div#fcc_test_suite_wrapper {
  display: none;
}



*, ::before, ::after {
  box-sizing: border-box;
}

html, body { height: 100%; }



body {
  font-family: $primary-font-family;
  margin: 0;
  line-height: 1.68;
}

p {
  overflow-wrap: break-word;
  hyphens: auto;
}

.container {
  margin: 0 auto;
  position: relative;
  display: flex;
  flex-direction: column;
  min-height: 100%;
  /* background-color: lime; */
  /* width: 50vw; */

  @media $breakpoint {
    flex-direction: row;
    /* justify-content: space-between; */
  }
}

#navbar {
  position: sticky;
  top: 0;
  /* left: 0; */
  color: $navbar-text-color-mobile;
  background-color: $navbar-background-color-mobile;

  @media $breakpoint {
    color: $navbar-text-color;
    background-color: $navbar-background-color;
    border-right: $navbar-border;
    /* box-shadow: 1px 0 2px 0px hsla(0, 0%, 0%, .2); */
  }

  .nav-container {
    position: sticky;
    top: 0;
    /* height: 100%; */
    /* border: 1px solid red; */
  }

  .nav-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    
    @media $breakpoint {
      border-bottom: $navbar-border;
    }

    & > * {
      margin: 0 20px;
      /* outline: 1px solid lime; */
      /* flex: 1 1 0; */
    }
  }
}

.nav-list {
  list-style: none;
  margin: 0;
  padding: 0;
  /* height: 0; */
  overflow: hidden;
  /* line-height: 0; */
  max-height: 0;
  transition: $nav-list-transition;

  @media $breakpoint {
    max-height: 100%;
  }
}

.nav-list-item {
  padding: 1em 0;

  @media $breakpoint {
    padding: 1em .5em 1em 1em;
    border-bottom: $navbar-border;
  }
}

.nav-link {
  color: inherit;
  text-decoration: none;
}

.hamburger {
  position: relative;
  display: inline-block;
  width: $hamburger-width; 
  height: $hamburger-height;
  border: none;
  outline: none;
  cursor: pointer;
  user-select: none;

  @media $breakpoint {
    display: none;
  }
  
  &-bar {
    display: block; 
    position: absolute; 
    background: $hamburger-color; 
    width: $hamburger-width; 
    height: $hamburger-bar-height;
    border-radius: $hamburger-bar-border-radius; 
    
    &:nth-of-type(1) {
      top: 0;
      transition: $hamburger-bar-top-transition;
    }

    &:nth-of-type(2) {
      top: calc(50% - ($hamburger-bar-height / 2));
      transition: $hamburger-bar-middle-transition;
    }

    &:nth-of-type(3) {
      bottom: 0;
      transition: $hamburger-bar-bottom-transition;
    }
    
  }
}

#hamburger-toggle {
  /* position: absolute;
  top: 0;
  right: 0;
  opacity: 0; 
  height: 0; 
  width: 0; */
  display: none;

  &:checked {
    & ~ .nav-list {
      /* height: 100px; */
      max-height: 100%;
      /* line-height: 1.5; */
      /* opacity: 1; */
      transition: $nav-list-transition;
    }

    & ~ header .hamburger-bar {
      &:nth-of-type(1) {
        top: calc(50% - ($hamburger-bar-height / 2));
        transform: rotate(45deg);
        transition: $hamburger-bar-top-checked-transition;
      }
  
      &:nth-of-type(2) {
        top: calc(($hamburger-height - $hamburger-width) / 2);
        height: $hamburger-width;
        background: rgba(0,0,0,0.1);
        /* border: calc($hamburger-bar-height * 0.6) solid rgba(0,0,0,0.5); */
        border-radius: 50%;
        z-index: -1;
        transform: scale(1.1);
        /* opacity: 0; */
        transition: $hamburger-bar-middle-checked-transition;
      }
  
      &:nth-of-type(3) {
        bottom: calc(50% - ($hamburger-bar-height / 2));
        transform: rotate(-45deg);
        transition: $hamburger-bar-bottom-checked-transition;
      }
    }
  }
  
}

#main-doc {
  /* height: 100%; */
  padding: 0 1rem;
  /* background-color: goldenrod; */
  /* filter: invert(100); */

  @media $breakpoint {
    flex: 1 1 auto;
    /* overflow-x: auto; */
  }
}

.main-section {

  max-width: 55ch;
  margin: 0 auto;

  &:target {

    /* Prevent targets from being hidden by navbar */
    &::before { 
      display: block; 
      content: " "; 
      margin-top: -50px; 
      height: 50px; 
      visibility: hidden; 
      pointer-events: none;
    }

    .section-header {
      background-color: yellow;

      h2 {
        /* background-color: goldenrod;
        transition: background-color 1s ease 1s; */
      }
    }

    @media $breakpoint {
      &::before { 
        margin-top: 0; 
        height: 0; 
      }
    }
  }
}




